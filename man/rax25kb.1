.\" Copyright (C) 2025-2026 Kris Kirby, KE4AHR
.\" SPDX-License-Identifier: GPL-3.0-or-later
.TH RAX25KB 1 "2025-12-30" "rax25kb 1.7.0" "User Commands"
.SH NAME
rax25kb \- AX.25 KISS Bridge with multi-port cross-connect support
.SH SYNOPSIS
.B rax25kb
[\fIOPTIONS\fR]
.SH DESCRIPTION
.B rax25kb
is a multi-port AX.25 KISS bridge that provides flexible connectivity between serial KISS/Extended KISS (XKISS) TNCs and TCP networks, as well as serial-to-serial cross-connections with protocol translation.
.PP
The program can operate in multiple modes:
.IP \(bu 2
Serial port to TCP bridge (single connection per port)
.IP \(bu 2
Serial port to serial port bridge
.IP \(bu 2
KISS to Extended KISS (XKISS) translation
.IP \(bu 2
Multiple independent bridges (cross-connects)
.PP
The program corrects packets improperly passed by TNCs from raw AX.25 to KISS framing without proper byte swaps, particularly addressing issues with TASCO modem chipsets.
.SH OPTIONS
.SS "Serial Port Options"
.TP
.BR \-D ", " \-\-device " \fIDEVICE\fR"
Serial port device (e.g., /dev/ttyUSB0 on Linux, COM3 on Windows)
.TP
.BR \-b ", " \-\-baud\-rate " \fIRATE\fR"
Baud rate (default: 9600)
.TP
.BR \-s ", " \-\-stop\-bits " \fI1\fR|\fI2\fR"
Number of stop bits (default: 1)
.TP
.BR \-Q ", " \-\-parity " \fIn\fR|\fIe\fR|\fIo\fR"
Parity: none, even, or odd (default: none)
.SS "Flow Control Options"
.TP
.BR \-x ", " \-\-xon\-xoff
Enable software flow control (XON/XOFF)
.TP
.BR \-H ", " \-\-rts\-cts
Enable hardware flow control (RTS/CTS)
.TP
.B \-\-dtr\-dsr
Enable DTR/DSR flow control
.TP
.BR \-N ", " \-\-none
Disable flow control (default)
.SS "Network Options"
.TP
.BR \-I ", " \-\-address " \fIADDRESS\fR"
TCP bind address (default: 0.0.0.0)
.TP
.BR \-p ", " \-\-port " \fIPORT\fR"
TCP port number (default: 8001)
.SS "Feature Options"
.TP
.BR \-d ", " \-\-dump
Dump KISS frames in hexadecimal format
.TP
.BR \-k ", " \-\-kiss
Parse and display KISS frame information
.TP
.BR \-a ", " \-\-ax25
Dump AX.25 information fields
.TP
.BR \-n ", " \-\-phil
Enable PhilFlag correction (C0->DB DC escaping, C/c->DB C/c to prevent TC0\\n parsing)
.TP
.BR \-R ", " \-\-raw\-copy
Raw copy mode (transparent pass-through, disables KISS processing)
.SS "Logging Options"
.TP
.BR \-l ", " \-\-logfile " \fIFILE\fR"
Write log messages to specified file
.TP
.BR \-L ", " \-\-log\-level " \fI0\-9\fR"
Set log verbosity level (default: 5)
.RS
.IP 0
EMERG - System is unusable
.IP 1
ALERT - Action must be taken immediately
.IP 2
CRIT - Critical conditions
.IP 3
ERROR - Error conditions
.IP 4
WARN - Warning conditions
.IP 5
NOTICE - Normal but significant condition
.IP 6
INFO - Informational messages
.IP 7
DEBUG - Debug-level messages
.IP 8
TRACE - Trace-level messages
.IP 9
VERBOSE - Verbose trace messages
.RE
.TP
.B \-\-console\-only
Log only to console (disable file logging)
.TP
.B \-\-no\-console
Log only to file (disable console logging)
.SS "Other Options"
.TP
.BR \-P ", " \-\-pidfile " \fIFILE\fR"
Write process ID to specified file
.TP
.B \-\-pcap " \fIFILE\fR"
Write captured AX.25 frames to PCAP file
.TP
.BR \-c " \fIFILE\fR"
Configuration file (default: rax25kb.cfg)
.TP
.BR \-q ", " \-\-quiet
Quiet startup (suppress informational output)
.TP
.BR \-h ", " \-\-help
Display help message and exit
.SH CONFIGURATION
.B rax25kb
can be configured via command-line options or a configuration file. The configuration file provides more advanced features including multiple cross-connects.
.PP
When using command-line options, they override the first cross-connect (cross_connect0000) in the configuration file.
.PP
See
.BR rax25kb.cfg (5)
for detailed configuration file format and options.
.SH KISS AND EXTENDED KISS
.SS Standard KISS
KISS (Keep It Simple, Stupid) is a protocol for communicating with TNCs. It uses frame delimiters (0xC0) and escape sequences:
.IP \(bu 2
FEND (0xC0): Frame delimiter
.IP \(bu 2
FESC (0xDB): Escape character
.IP \(bu 2
TFEND (0xDC): Transposed frame end
.IP \(bu 2
TFESC (0xDD): Transposed escape
.PP
The command byte format is: \fB(port << 4) | command\fR
.SS Extended KISS (XKISS)
Extended KISS allows for more flexible port addressing beyond the standard 0-15 port range. The program can translate between standard KISS and XKISS formats.
.SH PHILFLAG CORRECTION
PhilFlag addresses bugs in TASCO modem chipsets:
.SS Serial to TCP/Serial
Escapes embedded 0xC0 bytes within frames to prevent premature termination:
.RS
0xC0 \-> 0xDB 0xDC
.RE
.SS TCP/Serial to Serial
Escapes 'C' and 'c' characters to prevent TC0\\n command parsing:
.RS
0x43 (C) \-> 0xDB 0x43
.br
0x63 (c) \-> 0xDB 0x63
.RE
.SH CROSS-CONNECT ARCHITECTURE
The cross-connect system allows multiple independent bridges:
.IP \(bu 2
Each cross-connect has a unique ID (cross_connect0000 to cross_connect9999)
.IP \(bu 2
Each can bridge serial-to-TCP or serial-to-serial
.IP \(bu 2
KISS/XKISS translation per cross-connect
.IP \(bu 2
Independent configuration per bridge
.SH EXAMPLES
.SS Basic Serial to TCP Bridge
.nf
rax25kb \-D /dev/ttyUSB0 \-b 9600 \-p 8001
.fi
.SS With PhilFlag and KISS Parsing
.nf
rax25kb \-D /dev/ttyUSB0 \-n \-k \-l /var/log/rax25kb.log
.fi
.SS Using Configuration File
.nf
rax25kb \-c /etc/rax25kb/rax25kb.cfg
.fi
.SS Windows Example
.nf
rax25kb \-D COM3 \-b 9600 \-p 8001 \-n
.fi
.SS With PCAP Capture
.nf
rax25kb \-D /dev/ttyUSB0 \-k \-\-pcap /tmp/capture.pcap
.fi
.SS Verbose Logging
.nf
rax25kb \-D /dev/ttyUSB0 \-L 9 \-l debug.log
.fi
.SS Raw Copy Mode
.nf
rax25kb \-D /dev/ttyUSB0 \-R \-p 8001
.fi
.SH FILES
.TP
.I rax25kb.cfg
Default configuration file (current directory)
.TP
.I /etc/rax25kb/rax25kb.cfg
System-wide configuration file (Linux)
.TP
.I /usr/local/etc/rax25kb.cfg
System-wide configuration file (macOS)
.TP
.I C:\\Program Files\\rax25kb\\rax25kb.cfg
System-wide configuration file (Windows)
.SH EXIT STATUS
.TP
.B 0
Successful program execution
.TP
.B 1
General error (configuration error, device access error, etc.)
.SH SIGNALS
.TP
.B SIGINT, SIGTERM
Graceful shutdown
.SH NOTES
.SS Serial Port Permissions (Linux)
Add your user to the dialout group:
.nf
sudo usermod \-a \-G dialout $USER
.fi
.SS Windows COM Ports
Serial ports are named COM1, COM2, COM3, etc. You may need to run as Administrator for some operations.
.SS Multiple Instances
Multiple instances can run simultaneously with different configuration files, but they cannot share serial ports or TCP ports.
.SH BUGS
Report bugs to: https://github.com/ke4ahr/rax25kb/issues
.SH AUTHOR
Written by Kris Kirby, KE4AHR.
.SH COPYRIGHT
Copyright \(co 2025-2026 Kris Kirby, KE4AHR.
.br
License GPLv3+: GNU GPL version 3 or later <https://gnu.org/licenses/gpl.html>
.br
This is free software: you are free to change and redistribute it.
.br
There is NO WARRANTY, to the extent permitted by law.
.SH SEE ALSO
.BR rax25kb.cfg (5)
.PP
Full documentation at: https://github.com/ke4ahr/rax25kb/
.PP
AX.25 specification: https://www.tapr.org/pdf/AX25.2.2.pdf
