.TH RAX25KB 1 "2025-12-24" "rax25kb 2.0.0" "User Commands"
.SH NAME
rax25kb \- AX.25 KISS protocol bridge with multi-port cross-connect support
.SH SYNOPSIS
.B rax25kb
[\fB\-c\fR \fIconfig_file\fR]
[\fB\-q\fR]
[\fB\-h\fR]
.SH DESCRIPTION
.B rax25kb
is an AX.25 KISS protocol bridge that provides flexible cross-connect capabilities
between serial ports and TCP sockets. It supports multiple TNCs, serial-to-serial
bridging, KISS port translation, and various protocol correction features.
.PP
The program reads KISS frames from serial ports (TNCs) and forwards them to TCP
clients, enabling amateur radio packet applications to communicate with TNCs over
the network. It also supports bridging multiple TNCs together for digipeating
and relay operations.
.SH OPTIONS
.TP
.BR \-c ", " \-\-config " \fIfile\fR"
Specify configuration file (default: rax25kb.cfg)
.TP
.BR \-q ", " \-\-quiet
Quiet startup - suppress banner and informational output
.TP
.BR \-h ", " \-\-help
Display help message and exit
.SH FEATURES
.SS Multi-Port Support
.B rax25kb
supports multiple serial ports with independent configurations. Each port
can have different baud rates, flow control, parity, and stop bit settings.
.SS Cross-Connect System
Cross-connects define connections between endpoints:
.IP \(bu 2
Serial port to TCP socket
.IP \(bu 2
Serial port to serial port (bridging)
.IP \(bu 2
KISS port translation (ports 0-15)
.IP \(bu 2
Standard KISS to Extended KISS translation
.SS KISS Protocol Support
Full implementation of the KISS protocol including:
.IP \(bu 2
Frame boundary detection (0xC0)
.IP \(bu 2
Byte stuffing and escape sequences
.IP \(bu 2
Multi-port addressing (0-15)
.IP \(bu 2
All KISS command types
.SS PhilFlag Correction
Corrects KISS protocol bugs in TASCO modem chipsets:
.IP \(bu 2
Serial→TCP: Escapes unescaped 0xC0 bytes
.IP \(bu 2
TCP→Serial: Escapes 'C' and 'c' characters to prevent TC0\\n interpretation
.SS AX.25 Frame Parsing
Parses and displays AX.25 frames with:
.IP \(bu 2
Callsign extraction with SSID
.IP \(bu 2
Digipeater path decoding
.IP \(bu 2
Frame type identification (I, S, U, UI)
.IP \(bu 2
Control byte interpretation
.IP \(bu 2
PID and information field display
.SS PCAP Capture
Captures AX.25 frames to PCAP format for analysis with Wireshark or other
protocol analyzers. Uses DLT_AX25_KISS (147) link type.
.SH CONFIGURATION
Configuration is read from a text file (default: rax25kb.cfg) in key=value format.
See
.BR rax25kb.cfg (5)
for detailed configuration syntax and examples.
.SS Quick Configuration Example
.nf
# Serial port definition
serial_port0000=/dev/ttyUSB0
serial_port0000_baud=9600

# Cross-connect: TNC to TCP
cross_connect0000=serial:0000:0 <-> tcp:0.0.0.0:8001
cross_connect0000_parse_kiss=true

# Logging
log_level=5
log_to_console=true
.fi
.SH KISS PORT ADDRESSING
.B IMPORTANT:
The default KISS TNC address is always port 0. Most TNCs only support port 0.
.PP
KISS ports are numbered 0-15 (4-bit addressing). Multi-port support requires
TNC hardware/firmware that supports multiple ports. Consult your TNC manual
for multi-port capabilities.
.SH CROSS-CONNECT ENDPOINTS
Cross-connects link two endpoints together:
.TP
.B tcp:address:port
TCP socket endpoint. Address can be:
.RS
.IP \(bu 2
0.0.0.0 - Listen on all interfaces
.IP \(bu 2
127.0.0.1 - Localhost only (more secure)
.IP \(bu 2
Specific IP - Listen on specific interface
.RE
.TP
.B serial:port_id:kiss_port
Serial port endpoint with KISS port number (0-15).
Port ID must match a defined serial_portXXXX entry.
.SH SERIAL PORT FORMATS
.TP
.B 8N1
8 data bits, No parity, 1 stop bit (most common, default)
.TP
.B 8N2
8 data bits, No parity, 2 stop bits (some TNCs like Kenwood TS-2000)
.TP
.B 8E1
8 data bits, Even parity, 1 stop bit (rare)
.SH LOGGING
Log levels (0-9):
.TS
tab(;);
l l l.
0;EMERG;Emergency - system unusable
1;ALERT;Alert - immediate action required
2;CRIT;Critical conditions
3;ERROR;Error conditions
4;WARN;Warning conditions
5;NOTICE;Normal but significant (default)
6;INFO;Informational messages
7;DEBUG;Debug-level messages
8;TRACE;Trace execution
9;VERBOSE;Very detailed output
.TE
.SH EXAMPLES
.SS Example 1: Simple Single TNC
.nf
rax25kb -c /etc/rax25kb/simple.cfg
.fi
.PP
With configuration:
.nf
serial_port0000=/dev/ttyUSB0
serial_port0000_baud=9600
cross_connect0000=serial:0000:0 <-> tcp:0.0.0.0:8001
.fi
.SS Example 2: Kenwood TS-2000
.nf
rax25kb -c /etc/rax25kb/ts2000.cfg
.fi
.PP
With configuration:
.nf
serial_port0000=/dev/ttyUSB0
serial_port0000_baud=4800
serial_port0000_stop_bits=2
cross_connect0000=serial:0000:0 <-> tcp:127.0.0.1:8001
cross_connect0000_phil_flag=true
.fi
.SS Example 3: Multiple TNCs
.nf
rax25kb -c /etc/rax25kb/multi.cfg
.fi
.PP
With configuration:
.nf
# VHF TNC
serial_port0000=/dev/ttyUSB0
serial_port0000_baud=9600
cross_connect0000=serial:0000:0 <-> tcp:0.0.0.0:8001

# UHF TNC
serial_port0001=/dev/ttyUSB1
serial_port0001_baud=9600
cross_connect0001=serial:0001:0 <-> tcp:0.0.0.0:8002

# HF TNC
serial_port0002=/dev/ttyUSB2
serial_port0002_baud=1200
cross_connect0002=serial:0002:0 <-> tcp:0.0.0.0:8003
.fi
.SS Example 4: TNC Bridging (Digipeater)
.nf
rax25kb -c /etc/rax25kb/bridge.cfg
.fi
.PP
With configuration:
.nf
serial_port0000=/dev/ttyUSB0
serial_port0000_baud=9600
serial_port0001=/dev/ttyUSB1
serial_port0001_baud=9600

# Bridge TNCs together on KISS port 0
cross_connect0000=serial:0000:0 <-> serial:0001:0
cross_connect0000_parse_kiss=true
.fi
.SH FILES
.TP
.B rax25kb.cfg
Default configuration file (current directory)
.TP
.B /etc/rax25kb/rax25kb.cfg
System-wide configuration file
.TP
.B /var/log/rax25kb.log
Default log file location (if configured)
.TP
.B /var/run/rax25kb.pid
Default PID file location (if configured)
.SH SIGNALS
.TP
.B SIGINT, SIGTERM
Gracefully shutdown all connections and exit
.SH EXIT STATUS
.TP
.B 0
Success
.TP
.B 1
Configuration error or runtime error
.SH DIAGNOSTICS
.SS No packets received
.IP \(bu 2
Verify TNC is in KISS mode
.IP \(bu 2
Check KISS port number (usually 0)
.IP \(bu 2
Confirm serial port settings
.IP \(bu 2
Enable parse_kiss=true to see frame flow
.SS Serial port permission denied
.nf
sudo usermod -a -G dialout $USER
# Log out and back in
.fi
.SS Packets corrupted
.IP \(bu 2
Try enabling PhilFlag for TASCO modems or TS-2000
.IP \(bu 2
Check baud rate and serial format (8N1 vs 8N2)
.IP \(bu 2
Verify flow control settings
.SS Address already in use
Another process is using the TCP port. Check with:
.nf
sudo netstat -tlnp | grep 8001
.fi
.SH SECURITY CONSIDERATIONS
.IP \(bu 2
Use 127.0.0.1 for local-only access
.IP \(bu 2
Use 0.0.0.0 only when remote access is needed
.IP \(bu 2
Configure firewall rules for public-facing connections
.IP \(bu 2
No authentication is performed on TCP connections
.SH PERFORMANCE
.TP
.B CPU Usage
1-5% per active connection (typical)
.TP
.B Memory
~5MB base + ~2MB per serial port + ~100KB per connection
.TP
.B Latency
<1ms frame processing (typical)
.TP
.B Throughput
Limited by serial port baud rate:
.RS
.IP \(bu 2
1200 baud: ~150 bytes/sec
.IP \(bu 2
9600 baud: ~1200 bytes/sec
.IP \(bu 2
115200 baud: ~14,400 bytes/sec
.RE
.SH LIMITATIONS
.IP \(bu 2
One TCP client per cross-connect at a time
.IP \(bu 2
No SSL/TLS support
.IP \(bu 2
No authentication or access control
.IP \(bu 2
TCP-to-TCP cross-connects not supported
.IP \(bu 2
PCAP timestamps use system time
.SH TNC COMPATIBILITY
.SS Tested TNCs
.IP \(bu 2
Kenwood TS-2000 (requires 4800 baud, 8N2, PhilFlag)
.IP \(bu 2
Mobilinkd TNC3 (115200 baud, hardware flow control)
.IP \(bu 2
Kantronics KPC-3+ (9600 baud, 8N1)
.IP \(bu 2
Argent Data Tracker2 (9600 baud, 8N1)
.IP \(bu 2
TASCO modems (requires PhilFlag)
.SS General Requirements
.IP \(bu 2
TNC must support KISS mode
.IP \(bu 2
Most TNCs use KISS port 0 only
.IP \(bu 2
Check TNC manual for correct serial settings
.SH MIGRATION FROM v1.x
Version 2.0 changes the configuration format. Old configurations must be updated:
.PP
.B Old format (v1.x):
.nf
serial_port=/dev/ttyUSB0
baud_rate=9600
tcp_port=8001
.fi
.PP
.B New format (v2.0):
.nf
serial_port0000=/dev/ttyUSB0
serial_port0000_baud=9600
cross_connect0000=serial:0000:0 <-> tcp:0.0.0.0:8001
.fi
.SH BUGS
Report bugs to: https://github.com/ke4ahr/rax25kb/issues
.SH AUTHOR
Written by Kris Kirby and rax25kb contributors.
.SH COPYRIGHT
Copyright \(co 2025 rax25kb contributors.
.br
License GPLv3+: GNU GPL version 3 or later <https://gnu.org/licenses/gpl.html>
.br
This is free software: you are free to change and redistribute it.
.br
There is NO WARRANTY, to the extent permitted by law.
.SH SEE ALSO
.BR rax25kb.cfg (5),
.BR ax25 (4),
.BR kissattach (8)
.PP
Full documentation: https://www.outpostpm.org/support.html
.br
Project repository: https://github.com/ke4ahr/rax25kb