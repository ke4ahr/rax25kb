# rax25kb KISSCOPY Example
# Version: 1.6.8+
#
# This example demonstrates the KISSCOPY feature for broadcasting
# packets between TCP clients (like direwolf's KISSCOPY).

# ============================================================================
# GLOBAL SETTINGS
# ============================================================================

# Allow 3 simultaneous clients
max_tcp_clients=3

log_level=6

# ============================================================================
# CROSS-CONNECT 0000: KISS Server with KISSCOPY
# ============================================================================

# Hardware TNC
cross_connect0000.serial_port=/dev/ttyUSB0
cross_connect0000.baud_rate=9600

# TCP server
cross_connect0000.tcp_mode=server
cross_connect0000.tcp_address=0.0.0.0
cross_connect0000.tcp_port=8001

# KISS configuration
cross_connect0000.kiss_port=0
cross_connect0000.kiss_chan=-1        # All channels

# Enable KISSCOPY
cross_connect0000.kiss_copy=yes       # NEW FEATURE!

# ============================================================================
# HOW KISSCOPY WORKS
# ============================================================================
#
# Without KISSCOPY (kiss_copy=no):
#   Client A sends packet → Goes to TNC only
#   Client B sends packet → Goes to TNC only
#   Client C sends packet → Goes to TNC only
#   TNC receives packet → Goes to all clients (A, B, C)
#
# With KISSCOPY (kiss_copy=yes):
#   Client A sends packet → Goes to TNC AND to clients B and C
#   Client B sends packet → Goes to TNC AND to clients A and C
#   Client C sends packet → Goes to TNC AND to clients A and B
#   TNC receives packet → Goes to all clients (A, B, C)
#
# This allows monitoring applications to see transmitted packets!

# ============================================================================
# USE CASE: Xastir + Monitoring Apps
# ============================================================================
#
# Typical setup:
#
# Client A: Xastir (APRS application)
#   - Sends position beacons
#   - Sends messages
#   - Receives APRS packets from TNC
#   - With KISSCOPY: Also receives its own transmissions
#
# Client B: Monitoring application (e.g., custom logger)
#   - Receives all packets from TNC
#   - With KISSCOPY: Also sees what Xastir transmits
#   - Can log complete station activity
#
# Client C: Testing tool (e.g., aprx in test mode)
#   - Receives all packets
#   - With KISSCOPY: Sees everything on the channel
#
# All clients see:
#   1. Packets received by TNC (always)
#   2. Packets transmitted by any client (only with KISSCOPY)

# ============================================================================
# IMPORTANT NOTES
# ============================================================================
#
# 1. KISSCOPY only affects TCP clients
#    - Serial port always receives packets from TCP clients
#    - KISSCOPY adds peer-to-peer client communication
#
# 2. Source filtering
#    - A client never receives its own packets via KISSCOPY
#    - Only packets from OTHER clients are copied
#    - Prevents loops and duplicate processing
#
# 3. Performance
#    - Each transmitted packet is copied (max_tcp_clients - 1) times
#    - With 3 clients: each TX packet results in 2 copies
#    - Minimal overhead on modern systems
#
# 4. Compatibility
#    - Applications don't need to know about KISSCOPY
#    - They just receive more packets than without it
#    - Most applications handle this correctly

# ============================================================================
# WHEN TO USE KISSCOPY
# ============================================================================
#
# Enable (kiss_copy=yes) when:
#   ✓ Running monitoring/logging applications
#   ✓ Testing APRS applications (see your own transmissions)
#   ✓ Running multiple applications that should see each other
#   ✓ Debugging packet flow
#
# Disable (kiss_copy=no) when:
#   ✓ Only one client connected (no benefit)
#   ✓ Clients don't need to see each other's transmissions
#   ✓ Minimizing packet processing overhead
#   ✓ Standard operation (default behavior)
