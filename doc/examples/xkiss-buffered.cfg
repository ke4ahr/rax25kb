# rax25kb Configuration Example - XKISS with RX Buffer
# Copyright (C) 2025-2026 Kris Kirby, KE4AHR
# SPDX-License-Identifier: GPL-3.0-or-later
# Version: 1.6.7
#
# This example demonstrates XKISS polling mode with RX buffering

# Cross-connect 0: XKISS TNC with polling and buffering
cross_connect0000.serial_port=/dev/ttyUSB0
cross_connect0000.baud_rate=9600
cross_connect0000.tcp_address=0.0.0.0
cross_connect0000.tcp_port=8001

# XKISS Configuration
cross_connect0000.xkiss_mode=yes
cross_connect0000.xkiss_port=5                    # XKISS port number
cross_connect0000.xkiss_checksum=no               # Checksums (default: no)

# Polling Mode with Buffering (NEW in v1.6.7)
cross_connect0000.xkiss_polling=yes               # Enable polling mode
cross_connect0000.xkiss_poll_timer_ms=100         # Poll every 100ms
cross_connect0000.xkiss_rx_buffer_size=32768      # 32KB buffer

# How it works:
# 1. Packets received from serial are stored in buffer
# 2. Every 100ms (poll_timer), buffer is flushed
# 3. All buffered packets sent in one polling cycle
# 4. If buffer fills up, packets are dropped (logged)

# Features
cross_connect0000.parse_kiss=yes      # Log KISS frames
cross_connect0000.phil_flag=no        # PhilFlag if needed

# Global Settings
log_level=7                           # Verbose for buffer monitoring
logfile=/var/log/rax25kb-xkiss.log
pidfile=/var/run/rax25kb-xkiss.pid

# Buffer Size Recommendations:
# - 4096 (4KB): Minimum, may drop packets under load
# - 16384 (16KB): Default, good for most uses
# - 32768 (32KB): High-traffic scenarios
# - 65536 (64KB): Very high traffic
# - 1048576 (1MB): Maximum, rarely needed

# Poll Timer Recommendations:
# - 50ms: Low latency, higher CPU
# - 100ms: Good default balance
# - 250ms: Low CPU, higher latency
# - 1000ms: Very low CPU, significant latency
