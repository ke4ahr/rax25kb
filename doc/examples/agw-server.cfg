# rax25kb AGW (AGWPE) Server Configuration Example
# Version: 1.7.0+
#
# This example demonstrates running both KISS and AGW protocols
# simultaneously on the same TNC.

# ============================================================================
# GLOBAL SETTINGS
# ============================================================================

log_level=6
logfile=/var/log/rax25kb.log

# KISS TCP Server
max_tcp_clients=3

# AGW Server (NEW in v1.7.0)
agw_server_enable=yes
agw_server_address=0.0.0.0
agw_server_port=8000
agw_max_clients=3

# ============================================================================
# CROSS-CONNECT 0000: Dual Protocol (KISS + AGW)
# ============================================================================

# Hardware TNC connection
cross_connect0000.serial_port=/dev/ttyUSB0
cross_connect0000.baud_rate=9600
cross_connect0000.flow_control=none

# KISS TCP Server (port 8001)
cross_connect0000.tcp_mode=server
cross_connect0000.tcp_address=0.0.0.0
cross_connect0000.tcp_port=8001
cross_connect0000.kiss_port=0

# AGW Server (port 8000)
cross_connect0000.agw_enable=yes
cross_connect0000.agw_port=0

# PhilFlag correction (applies to BOTH KISS and AGW)
cross_connect0000.phil_flag=yes

# Features
cross_connect0000.dump=no
cross_connect0000.parse_kiss=no

# ============================================================================
# USAGE
# ============================================================================
#
# With this configuration, you can run:
#
# 1. KISS Clients on port 8001:
#    - direwolf
#    - kissattach
#    - Xastir (KISS mode)
#    - Any KISS-compatible application
#
# 2. AGW Clients on port 8000:
#    - YAAC (Yet Another APRS Client)
#    - UI-View32
#    - WinLink Express (packet mode)
#    - AGWTracker
#    - Any AGW-compatible application
#
# Both protocols:
#    - Share the same TNC
#    - Receive identical packets from TNC
#    - Can transmit to TNC simultaneously
#    - PhilFlag correction applied to both
#
# Example connections:
#    KISS: telnet localhost 8001
#    AGW:  Configure YAAC to use localhost:8000
#
# ============================================================================
# DUAL PROTOCOL ADVANTAGES
# ============================================================================
#
# 1. Windows Compatibility:
#    Many Windows packet applications only support AGW protocol
#
# 2. Linux Compatibility:
#    Linux tools typically use KISS protocol
#
# 3. No Conflicts:
#    Different port numbers prevent conflicts
#
# 4. Unified Management:
#    Single configuration for both protocols
#
# 5. PhilFlag Support:
#    Both protocols benefit from TNC bug workarounds
#
# ============================================================================
# MONITOR MODE
# ============================================================================
#
# AGW clients can enable "monitor mode" to receive all packets,
# even when not addressed to them. This is useful for:
#    - APRS monitoring
#    - Network analysis
#    - Logging applications
#
# To enable monitor mode, AGW clients send an 'M' command.
# rax25kb automatically handles this.

# ============================================================================
# MULTI-CHANNEL EXAMPLE
# ============================================================================
#
# For multi-channel TNCs (Kantronics KAM, etc):
#
# # Channel 0: VHF APRS
# cross_connect0000.serial_port=/dev/ttyUSB0
# cross_connect0000.baud_rate=9600
# cross_connect0000.tcp_port=8001
# cross_connect0000.kiss_port=0
# cross_connect0000.agw_enable=yes
# cross_connect0000.agw_port=0
#
# # Channel 1: UHF Packet
# cross_connect0001.serial_port=/dev/ttyUSB0  # Same serial!
# cross_connect0001.tcp_port=8002
# cross_connect0001.kiss_port=1
# cross_connect0001.agw_enable=yes
# cross_connect0001.agw_port=1
#
# AGW clients connecting to port 8000 will see both channels,
# with proper channel identification in AGW frames.

# ============================================================================
# PERFORMANCE NOTES
# ============================================================================
#
# AGW protocol overhead:
#    - 36-byte header per packet
#    - Slightly more CPU than KISS
#    - Negligible on modern systems
#
# Recommended:
#    - Use AGW for Windows applications
#    - Use KISS for Linux/embedded systems
#    - Both work equally well for APRS/packet
